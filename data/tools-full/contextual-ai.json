{
  "id": "contextual-ai",
  "displayName": "Contextual AI",
  "auth": {
    "type": "custom"
  },
  "actions": {
    "create_agent": {
      "displayName": "Create Agent",
      "description": "Create a new Contextual AI agent with specified configuration",
      "props": [
        {
          "name": "name",
          "displayName": "Agent Name",
          "type": "SHORT_TEXT",
          "required": true,
          "description": "Name for the new agent"
        },
        {
          "name": "description",
          "displayName": "Description",
          "type": "SHORT_TEXT",
          "required": false,
          "description": "Optional description of the agent"
        },
        {
          "name": "datastoreIds",
          "displayName": "Datastores",
          "type": "MULTI_SELECT_DROPDOWN",
          "required": false,
          "description": "Select datastores to associate with this agent (leave empty to create new datastore)"
        },
        {
          "name": "systemPrompt",
          "displayName": "System Prompt",
          "type": "LONG_TEXT",
          "required": false,
          "description": "Optional system prompt for the agent"
        },
        {
          "name": "filterPrompt",
          "displayName": "Filter Prompt",
          "type": "LONG_TEXT",
          "required": false,
          "description": "Optional prompt for filtering retrieved chunks"
        }
      ]
    },
    "create_datastore": {
      "displayName": "Create Datastore",
      "description": "Create a new datastore for organizing documents",
      "props": [
        {
          "name": "name",
          "displayName": "Datastore Name",
          "type": "SHORT_TEXT",
          "required": true,
          "description": "Name for the new datastore"
        }
      ]
    },
    "generate": {
      "displayName": "Generate Text",
      "description": "Generate text using Contextual AI\\",
      "props": [
        {
          "name": "prompt",
          "displayName": "Prompt",
          "type": "LONG_TEXT",
          "required": true,
          "description": "The text prompt to generate a response for"
        },
        {
          "name": "model",
          "displayName": "Model Version",
          "type": "STATIC_DROPDOWN",
          "required": true,
          "description": "The version of Contextual\\"
        },
        {
          "name": "knowledge",
          "displayName": "Knowledge Sources",
          "type": "ARRAY",
          "required": false,
          "description": "Optional knowledge sources to ground the generation (leave empty for general generation)"
        },
        {
          "name": "systemPrompt",
          "displayName": "System Prompt",
          "type": "LONG_TEXT",
          "required": false,
          "description": "Optional system instructions for the model"
        },
        {
          "name": "maxTokens",
          "displayName": "Max Tokens",
          "type": "NUMBER",
          "required": false,
          "description": "Maximum number of tokens to generate (default: 1024)"
        },
        {
          "name": "temperature",
          "displayName": "Temperature",
          "type": "NUMBER",
          "required": false,
          "description": "Sampling temperature (0.0 to 1.0, lower = more focused, higher = more creative)"
        },
        {
          "name": "topP",
          "displayName": "Top P",
          "type": "NUMBER",
          "required": false,
          "description": "Nucleus sampling parameter (0.0 to 1.0)"
        },
        {
          "name": "avoidCommentary",
          "displayName": "Avoid Commentary",
          "type": "CHECKBOX",
          "required": false,
          "description": "Avoid providing additional conversational commentary not grounded in context"
        }
      ]
    },
    "ingest_document": {
      "displayName": "Ingest Document",
      "description": "Upload and ingest a document into a Contextual AI datastore",
      "props": [
        {
          "name": "datastoreId",
          "displayName": "Datastore",
          "type": "DROPDOWN",
          "required": true,
          "description": "Select the datastore to upload the document to"
        },
        {
          "name": "file",
          "displayName": "Document File",
          "type": "FILE",
          "required": true,
          "description": "The document file to upload (PDF, HTML, DOC, DOCX, PPT, PPTX)"
        },
        {
          "name": "customMetadata",
          "displayName": "Custom Metadata",
          "type": "OBJECT",
          "required": false,
          "description": "Optional custom metadata as key-value pairs (max 15 fields, 2KB total)"
        },
        {
          "name": "configuration",
          "displayName": "Configuration Override",
          "type": "LONG_TEXT",
          "required": false,
          "description": "Optional configuration override in JSON format for this specific document"
        }
      ]
    },
    "invite_users": {
      "displayName": "Invite Users",
      "description": "Invite new users to the Contextual AI workspace",
      "props": [
        {
          "name": "users",
          "displayName": "Users to Invite",
          "type": "ARRAY",
          "required": true,
          "description": "List of users to invite"
        },
        {
          "name": "email",
          "displayName": "Email",
          "type": "SHORT_TEXT",
          "required": true,
          "description": "Email address of the user to invite"
        },
        {
          "name": "tenantShortName",
          "displayName": "Tenant Short Name",
          "type": "SHORT_TEXT",
          "required": true,
          "description": "The short name of the tenant/workspace"
        }
      ]
    },
    "parse_file": {
      "displayName": "Parse File",
      "description": "Parse a document file into structured Markdown and/or JSON format",
      "props": [
        {
          "name": "file",
          "displayName": "Document File",
          "type": "FILE",
          "required": true,
          "description": "The document file to parse (PDF, DOC, DOCX, PPT, PPTX)"
        },
        {
          "name": "parseMode",
          "displayName": "Parse Mode",
          "type": "STATIC_DROPDOWN",
          "required": true,
          "description": "Parsing mode - basic for simple text, standard for complex documents"
        },
        {
          "name": "pageRange",
          "displayName": "Page Range",
          "type": "SHORT_TEXT",
          "required": false,
          "description": "Optional page range to parse (e.g., \"0,1,2\" or \"0-2,5,6\")"
        },
        {
          "name": "enableDocumentHierarchy",
          "displayName": "Enable Document Hierarchy",
          "type": "CHECKBOX",
          "required": false,
          "description": "Add table of contents with document structure (beta feature)"
        },
        {
          "name": "enableSplitTables",
          "displayName": "Enable Split Tables",
          "type": "CHECKBOX",
          "required": false,
          "description": "Split large tables into multiple tables with headers"
        },
        {
          "name": "maxSplitTableCells",
          "displayName": "Max Split Table Cells",
          "type": "NUMBER",
          "required": false,
          "description": "Threshold for splitting large tables (only used when split tables is enabled)"
        },
        {
          "name": "figureCaptionMode",
          "displayName": "Figure Caption Mode",
          "type": "STATIC_DROPDOWN",
          "required": false,
          "description": "How thorough figure captions should be"
        }
      ]
    },
    "query_agent": {
      "displayName": "Query Agent",
      "description": "Send a message to a Contextual AI agent and get a response",
      "props": [
        {
          "name": "agentId",
          "displayName": "Agent",
          "type": "DROPDOWN",
          "required": true,
          "description": "Select the agent to query"
        },
        {
          "name": "message",
          "displayName": "Message",
          "type": "LONG_TEXT",
          "required": true,
          "description": "The message to send to the agent"
        },
        {
          "name": "conversationId",
          "displayName": "Conversation ID",
          "type": "SHORT_TEXT",
          "required": false,
          "description": "Optional conversation ID to continue an existing conversation (leave empty for new conversation)"
        },
        {
          "name": "includeRetrievalContent",
          "displayName": "Include Retrieval Content",
          "type": "CHECKBOX",
          "required": false,
          "description": "Include the text of retrieved contents in the response"
        }
      ]
    }
  },
  "triggers": {
    "new_agent": {
      "displayName": "New Agent",
      "description": "Triggers when a new Contextual AI agent is created",
      "type": "POLLING",
      "props": []
    }
  }
}